{"version":3,"sources":["../../src/utils/handleCallback.js"],"names":["lastRole","handleCallback","resp","bot","updateBackBtnPointer","handleBackClick","data","message"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAIA,WAAW,IAAf,C,CAAqB;;AAErB,IAAMC,iBAAiB,SAAjBA,cAAiB,CAACC,IAAD,EAAOC,GAAP,EAAe;AACpC,UAAQ,IAAR;AACE,SAAK,sCAAcD,IAAd,CAAL;AACEE,2BAAqBF,IAArB;AACA,sCAAiBA,IAAjB,EAAuBC,GAAvB;AACA;AACF,SAAK,wCAAgBD,IAAhB,CAAL;AACE,4CAAuBA,IAAvB,EAA6BC,GAA7B;AACA;AACF;AACEE,sBAAgBH,IAAhB,EAAsBC,GAAtB;AATJ;AAWD,CAZD;;AAcA,IAAME,kBAAkB,SAAlBA,eAAkB,CAACH,IAAD,EAAOC,GAAP,EAAe;AACrC,UAAQD,KAAKI,IAAb;AACE,SAAK,OAAL;AACE,+BAAUJ,KAAKK,OAAf,EAAwBJ,GAAxB;AACA;AACF;AACED,WAAKI,IAAL,GAAYN,QAAZ;AACA,sCAAiBE,IAAjB,EAAuBC,GAAvB;AANJ;AAQD,CATD;;AAWA,IAAMC,uBAAuB,SAAvBA,oBAAuB,OAAc;AAAA,MAAXE,IAAW,QAAXA,IAAW;;AACzCN,aAAWM,IAAX;AACD,CAFD;;kBAIeL,c","file":"handleCallback.js","sourcesContent":["import sendRoleCallback from '../messages/sendRoleCallback.js';\nimport sendMemberCardCallback from '../messages/sendMemberCardCallback.js';\nimport sendStart from '../messages/sendStart.js';\nimport regex from '../data/regex.js';\nimport { isRole, isMember } from './helpers.js';\n\nlet lastRole = null; // keep track of where backBtn should point to\n\nconst handleCallback = (resp, bot) => {\n  switch (true) {\n    case isRole(regex, resp):\n      updateBackBtnPointer(resp);\n      sendRoleCallback(resp, bot);\n      break;\n    case isMember(regex, resp):\n      sendMemberCardCallback(resp, bot);\n      break;\n    default:\n      handleBackClick(resp, bot);\n  }\n};\n\nconst handleBackClick = (resp, bot) => {\n  switch (resp.data) {\n    case 'start':\n      sendStart(resp.message, bot);\n      break;\n    default:\n      resp.data = lastRole;\n      sendRoleCallback(resp, bot);\n  }\n};\n\nconst updateBackBtnPointer = ({ data }) => {\n  lastRole = data;\n};\n\nexport default handleCallback;\n"]}