{"version":3,"sources":["../../src/init/bot.js"],"names":["initBot","isProdEnv","Prod","init","Dev","process","env","NODE_ENV","BotSettings","token","bot","setToken","tokenType","setBot","optns","polling","Object","setPrototypeOf"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,UAAU,SAAVA,OAAU;AAAA,SAAOC,cAAcC,KAAKC,IAAL,EAAd,GAA4BC,IAAID,IAAJ,EAAnC;AAAA,CAAhB;;AAEA,IAAMF,YAAY,SAAZA,SAAY;AAAA,SAAMI,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,YAA/B;AAAA,CAAlB;;AAEA,IAAMC,cAAc;AAClBC,SAAO,IADW;AAElBC,OAAK,IAFa;;AAIlBC,UAJkB,oBAITC,SAJS,EAIE;AAClB,SAAKH,KAAL,GAAaJ,QAAQC,GAAR,CAAYM,SAAZ,CAAb;AACD,GANiB;AAQlBC,QARkB,oBAQC;AAAA,QAAZC,KAAY,uEAAJ,EAAI;;AACjB,SAAKJ,GAAL,GAAW,iCAAgB,KAAKD,KAArB,EAA4BK,KAA5B,CAAX;AACD;AAViB,CAApB;;AAaA,IAAMZ,OAAO;AACXU,aAAW,OADA;;AAGXT,MAHW,kBAGJ;AACL,SAAKQ,QAAL,CAAc,KAAKC,SAAnB;AACA,SAAKC,MAAL;AACA,WAAO,KAAKH,GAAZ;AACD;AAPU,CAAb;;AAUA,IAAMN,MAAM;AACVQ,aAAW,WADD;AAEVE,SAAO;AACLC,aAAS;AADJ,GAFG;;AAMVZ,MANU,kBAMH;AACL,SAAKQ,QAAL,CAAc,KAAKC,SAAnB;AACA,SAAKC,MAAL,CAAY,KAAKC,KAAjB;AACA,WAAO,KAAKJ,GAAZ;AACD;AAVS,CAAZ;;AAaAM,OAAOC,cAAP,CAAsBb,GAAtB,EAA2BI,WAA3B;AACAQ,OAAOC,cAAP,CAAsBf,IAAtB,EAA4BM,WAA5B;;kBAEeR,O","file":"bot.js","sourcesContent":["import TelegramBot from 'node-telegram-bot-api';\n\nconst initBot = () => (isProdEnv() ? Prod.init() : Dev.init());\n\nconst isProdEnv = () => process.env.NODE_ENV === 'production';\n\nconst BotSettings = {\n  token: null,\n  bot: null,\n\n  setToken(tokenType) {\n    this.token = process.env[tokenType];\n  },\n\n  setBot(optns = {}) {\n    this.bot = new TelegramBot(this.token, optns);\n  }\n};\n\nconst Prod = {\n  tokenType: 'TOKEN',\n\n  init() {\n    this.setToken(this.tokenType);\n    this.setBot();\n    return this.bot;\n  }\n};\n\nconst Dev = {\n  tokenType: 'DEV_TOKEN',\n  optns: {\n    polling: true\n  },\n\n  init() {\n    this.setToken(this.tokenType);\n    this.setBot(this.optns);\n    return this.bot;\n  }\n};\n\nObject.setPrototypeOf(Dev, BotSettings);\nObject.setPrototypeOf(Prod, BotSettings);\n\nexport default initBot;\n"]}