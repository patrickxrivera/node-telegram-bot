{"version":3,"sources":["../../src/init/bot.js"],"names":["initBot","token","process","env","TOKEN","bot","isProdEnv","setWebHook","HEROKU_URL","polling","console","log","NODE_ENV"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,UAAU,SAAVA,OAAU,GAAM;AACpB,MAAMC,QAAQC,QAAQC,GAAR,CAAYC,KAA1B;AACA,MAAIC,YAAJ;;AAEA,MAAIC,WAAJ,EAAiB;AACfD,UAAM,iCAAgBJ,KAAhB,CAAN;AACAI,QAAIE,UAAJ,CAAeL,QAAQC,GAAR,CAAYK,UAAZ,GAAyBH,IAAIJ,KAA5C;AACD,GAHD,MAGO;AACLI,UAAM,iCAAgBJ,KAAhB,EAAuB,EAAEQ,SAAS,IAAX,EAAvB,CAAN;AACD;;AAEDC,UAAQC,GAAR,CAAY,+BAA+BT,QAAQC,GAAR,CAAYS,QAA3C,GAAsD,OAAlE;;AAEA,SAAOP,GAAP;AACD,CAdD;;AAgBA,IAAMC,YAAY,SAAZA,SAAY;AAAA,SAAMJ,QAAQC,GAAR,CAAYS,QAAZ,KAAyB,YAA/B;AAAA,CAAlB;;kBAEeZ,O","file":"bot.js","sourcesContent":["import TelegramBot from 'node-telegram-bot-api';\n\nconst initBot = () => {\n  const token = process.env.TOKEN;\n  let bot;\n\n  if (isProdEnv()) {\n    bot = new TelegramBot(token);\n    bot.setWebHook(process.env.HEROKU_URL + bot.token);\n  } else {\n    bot = new TelegramBot(token, { polling: true });\n  }\n\n  console.log('Bot server started in the ' + process.env.NODE_ENV + ' mode');\n\n  return bot;\n};\n\nconst isProdEnv = () => process.env.NODE_ENV === 'production';\n\nexport default initBot;\n"]}